# Lab: Simulating data {#lab12}
## Preparing for Life on the Red Planet

```{r include=FALSE}
library(tufte)
library(knitr)
options(
  htmltools.dir.version = FALSE, # for blogdown
  show.signif.stars = FALSE, # for regression output
  digits = 2
)
#knitr::opts_chunk$set(eval = FALSE)
```

In this lab, we will embark on a journey to Mars, simulating potential colonists' data to plan our future Mars colony. We'll learn how to create and manipulate datasets in R, simulating various attributes of our colonists, like their skills, health, and adaptability to the Martian environment.

## Getting started {.unnumbered}

- Go to the course organization on GitHub.

- Find your lab repo.

### Housekeeping {.unnumbered}

#### Password caching {.unnumbered}

If you would like your git password cached for a week for this project, type the following in the Terminal:

```{bash eval=FALSE}
git config --global credential.helper 'cache --timeout 604800'
```

#### Project name {.unnumbered}

Currently your project is called *Untitled Project*. Update the name of your project to be "Lab 12 - Simulating Data".

## Warm up {.unnumbered}

Before we introduce the data, let's warm up with some simple exercises.

### YAML {.unnumbered}

Open the R Markdown (Rmd) file in your project, change the author name to your name, and knit the document.

### Commiting and pushing changes: {.unnumbered}

- Go to the **Git** pane in your RStudio.
- View the **Diff** and confirm that you are happy with the changes.
- Add a commit message like "Update team name" in the **Commit message** box and hit **Commit**.
- Click on **Push**. This action will prompt a dialogue box where you first need to enter your user name, and then your password.

## Learning Goals {.unnumbered}

- Simulate Quantitative Variables: Learn to create simulated quantitative variables representing colonist attributes using `rnorm()`, `runif()`, and `rpois()`.

- Generate Character Variables: Use rep() to create categorical variables that represent different groups within the colonists, such as their professions or roles in the colony.

- Replication of Data Simulation: Utilize replicate() to repeat the data simulation process, representing multiple scenarios or batches of potential colonists.

## Exercises {.unnumbered}

### Part 1: Simulating Our Colonists


Instead of analyzing other people's data, you'll be generating your own.  You will generate basic attributes for 100 potential colonists. These attributes include age, health, and fitness levels, which are critical for survival on Mars.

1. We'll start by simulating the age of our colonists. Age is a crucial factor in colony planning as it impacts the skill diversity, potential for growth, and the sustainability of the colony.

<!--
1. Task 1: Generating Basic Attributes
- Objective: Learn to create a dataset of n observations with specific characteristics.
  - Simulate the age distribution of 100 colonists using a normal distribution.
 - Generate health and fitness levels to ensure our colonists are fit for the challenges of Mars.
-->

Setting Up Your Simulation:

We'll use the `rnorm()` function, which is perfect for this task because it generates normally distributed random numbers.

Parameters:

n = 100: The number of random ages we want to generate.
mean = 30: The average age of our colonists. We're targeting a young, but experienced group of individuals.
sd = 5: The standard deviation, representing age variability around the mean.

Here's the code to generate the age distribution:

```{r}
age <- rnorm(100, mean = 30, sd = 5)
```

Now, let's visualize the age distribution of our colonists using a histogram. This will help us understand the diversity within our potential Mars colony.

```{r}
library(ggplot2)
ggplot(data = data.frame(age), aes(x = age)) +
  geom_histogram(breaks = seq(from = 5*floor(min(age)/5), to = max(age) + 5, by = 5), fill = "darkblue", color = "black") +
  labs(title = "Histogram of Colonist Ages", x = "Age", y = "Frequency") +
  theme_minimal()
```

Analyze the histogram of the age distribution that you've generated. How does the distribution of ages reflect the needs of a Mars colony? Given this distribution how unusual would it be to have a colonist who was `r round(as.numeric(difftime(Sys.Date(), as.Date("1971-06-28"), units = "days")) / 365.25, digits = 1)` years old?

This histogram allows us to visually assess the spread and central tendency of ages within our group of colonists. With a mean age of 30 and a standard deviation of 5, we expect most colonists to be in their late twenties to early thirties, which is ideal for the physical demands of establishing a new colony.


1. Task 2: Skill Correlations
- Objective: Understand how to simulate variables with specific correlations.
  - Create variables for technical skills and problem-solving abilities, ensuring a realistic correlation between them.

1. Task 3: Advanced Attributes Simulation
- Objective: Dive deeper into simulations by generating more complex relationships between variables.
  - Simulate a set of psychological resilience, teamwork, and adaptability scores with predefined correlations and partial correlations.
  
### Part 2: Analyzing Our Simulated Colonists

1. Task 4: Descriptive Statistics
- Objective: Learn to run descriptive statistics on our generated data and store the results.
  - Calculate and display the mean, standard deviation, and correlations for our simulated attributes.
1. Task 5: Visualization
- Objective: Visualize our data to gain insights into the distribution of skills and attributes within our potential colonists.
- Create histograms, scatter plots, and correlation plots for our simulated variables.

### Part 3: Preparing for the Unexpected

1. Task 6: Sampling and Replication
- Objective: Master the art of repeated sampling and simulation to prepare for various scenarios.
  - Simulate drawing random samples from our dataset to understand variability and ensure resilience in our colony's population.
1. Task 7: Analysis of Repeated Samples
- Objective: Analyze repeated samples to identify patterns and potential challenges.
  - Store and summarize the results of repeated sampling in a comprehensive dataframe, analyzing the resilience of our population across simulations.
